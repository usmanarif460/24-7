(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{370:function(e,t,n){"use strict";n.r(t);var r=n(3),o=(n(22),n(50),{data:function(){return{messages:[],newMessage:""}},created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.$fire.auth.currentUser)){t.next=7;break}return t.next=4,e.$fire.firestore.collection("users").doc(n.uid);case 4:return r=t.sent,t.next=7,r.collection("messages").orderBy("timestamp","asc").onSnapshot((function(t){console.log(t),e.messages=t.docs.map((function(e){return e.data()})),console.log(e.messages)}));case 7:case"end":return t.stop()}}),t)})))()},methods:{sendMessage:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.$fire.auth.currentUser)||""==e.newMessage){t.next=6;break}return r=e.$fire.firestore.collection("users").doc(n.uid),t.next=5,r.collection("messages").add({email:n.email,text:e.newMessage,timestamp:new Date});case 5:e.newMessage="";case 6:case"end":return t.stop()}}),t)})))()}}}),c=n(48),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"border-2 border-black mt-8 mb-4 p-2 sm:w-1/2 m-auto"},[e._l(e.messages,(function(n){return t("ul",{key:n.id,staticClass:"w-1/2"},[t("li",[e._v("\n      "+e._s(n.text)+"\n    ")])])})),e._v(" "),t("form",{on:{submit:function(t){return t.preventDefault(),e.sendMessage.apply(null,arguments)}}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newMessage,expression:"newMessage"}],staticClass:"border-2 border-black focus:outline-none mt-2 p-1 w-3/4",attrs:{type:"text",required:""},domProps:{value:e.newMessage},on:{input:function(t){t.target.composing||(e.newMessage=t.target.value)}}}),e._v(" "),t("button",{staticClass:"bg-blue-300 py-2 px-3 rounded-lg",attrs:{type:"submit"}},[e._v("Send")])])],2)}),[],!1,null,null,null);t.default=component.exports}}]);